<?xml version='1.0' encoding='UTF-8' ?>
<!--

    Copyright (c) 2018, 2021 Oracle and/or its affiliates. All rights reserved.

    This program and the accompanying materials are made available under the
    terms of the Eclipse Distribution License v. 1.0, which is available at
    http://www.eclipse.org/org/documents/edl-v10.php.

    SPDX-License-Identifier: BSD-3-Clause

-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Lista libros</title>
    </h:head>
    <h:body>
    
    	 <h:form>
        	
            <h2>Listado de libros/Registro ajax</h2>
          
            <p>
            <label>Titulo:</label>
            <br/>
            <h:inputText id="titulo" value="#{libro.titulo}"/>
            </p>
            
            <p>
            <label>Autor:</label>
            <br/>
            <h:inputText id="autor" value="#{libro.autor}"/>  
            </p>
            
            <p>
                <label>Número de edicion:</label>
                <br/>
                <h:inputText id="numEdicion" value="#{libro.numEdicion}">
                    <!--  <f:passThroughAttributes value="#{reservationBean.ticketAttrs}"/> -->
                    	  <f:passThroughAttribute name ="type"  value="number"/>
                    	  <f:passThroughAttribute name ="min"  value="1"/>
                    	  <f:passThroughAttribute name ="max"  value="10"/>
                    	  <f:passThroughAttribute name ="required"  value="required"/>
                    	  <f:passThroughAttribute name ="title"  value="Número de edición entre 1 y 10"/>
                </h:inputText>
            </p>
            
            
            <p>
            <label>Categoria:</label>
            <br/>
            <h:selectOneMenu id="categoria" value="#{libro.categoria}" >
			  <f:selectItem itemLabel= "Juvenil" itemValue="JUVENIL"/>
			  <f:selectItem itemLabel="Científico" itemValue="CIENTIFICO"/>
			  <f:selectItem itemLabel="Viajes" itemValue="VIAJES"/>
			</h:selectOneMenu>
			</p>
             
             <p>
            <label>Editorial:</label>
            <br/>
            <h:selectOneMenu id = "editorial" value="#{libro.editorial}" >
			  <f:selectItem itemLabel= "Santillana" itemValue="Santillana"/>
			  <f:selectItem itemLabel="Alfaguara" itemValue="Alfaguara"/>
			  <f:selectItem itemLabel="Penguin" itemValue="Penguin"/>
			</h:selectOneMenu>
            </p>
                
            <h:commandButton id="agregar" value="Agregar" style="background-color: #8EC3B0">
            	<f:ajax execute="editorial categoria autor titulo numEdicion" listener="#{libro.agregarAjax}" render="libros"/>
            </h:commandButton>
            
        </h:form> 
        
        <br/>
        
        <h:dataTable id="libros"
                         value="#{libro.libros}"
                         var="lb"
               
                         border="1"  
                         summary="Lista de libros" align="center">
                <h:column>
                    <f:facet name="header">
                    	Titulo
                    </f:facet>
                    <h:outputText value="#{lb.titulo}" />
                </h:column>
                
                <h:column>
                    <f:facet name="header">
                    	Autor
                    </f:facet>
                    <h:outputText value="#{lb.autor}" />
                </h:column>
                
                <h:column>
                    <f:facet name="header">
                    	Número de edición
                    </f:facet>
                    <h:outputText value="#{lb.numEdicion}" />
                </h:column>
                
                 <h:column>
                    <f:facet name="header">
                    	Categoria
                    </f:facet>
                    <h:outputText value="#{lb.categoria}" />
                </h:column>
                
                 <h:column>
                    <f:facet name="header">
                    	Editorial
                    </f:facet>
                    <h:outputText value="#{lb.editorial}" />
                </h:column>
                
            </h:dataTable>  
            <br/>
            <h:form>
            	<h:commandButton id="Index" value="Regreso a inicio" action="index" style="background-color:#4FA095"/>
            </h:form>
    </h:body>
</html>

